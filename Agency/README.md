# Agency
Broker for the management of agencies for the online purchase or sale of theater tickets. The system consists of 3 entities:
* **Agency**: It offers the "buy" and "sell" services. Each agency subscribes to the broker upon launch (using the "subscribe" service). Each agency has an initial number of tickets. Upon arrival of a purchase request, the total of tickets is decreased by an amount equal to that specified in the request and upon arrival of a sales request, the total is increased by a quantity equal to that specified in the request. The "buy" operation is put on hold if the quantity to be purchased is less than the number of tickets available. Each operation lasts a randomly chosen time between 4 and 8 seconds. Access to the number of tickets is carried out in mutual exclusion.
* **Broker**: It receives requests for through the "submit" method and routes them to an agency. The broker has a list of agencies sorted in the order of subscription. The sorting of requests to agencies is done according to the round-robin policy.
* **Client**: Generat T threads, each of which, at the end of a time t (chosen at random between 1 and 3 seconds), performs a randomly chosen operation with a quantity chosen at random between 1 and 10. Each thread generates R requests . Set T = 5 and R = 25.